globals:
   - id: ${device_relay_name_2}_sun_enabled
     type: bool
     restore_value: true
     initial_value: 'false'
   - id: ${device_relay_name_2}_sunrise_enabled
     type: bool
     restore_value: true
     initial_value: 'false'
   - id: ${device_relay_name_2}_sunset_enabled
     type: bool
     restore_value: true
     initial_value: 'false'


switch:
  - platform: template
    name: "${friendly_relay_name_2} Sun Enabled"
    id: "${device_relay_name_2}_sun_switch_toggle"
    icon: "mdi:weather-sunny"
    optimistic: false
    restore_state: true
    turn_on_action:
      - globals.set:
          id: ${device_relay_name_2}_sun_enabled
          value: 'true'
    turn_off_action:
      - globals.set:
          id: ${device_relay_name_2}_sun_enabled
          value: 'false'
    lambda: |-
      return id(${device_relay_name_2}_sun_enabled);
  - platform: template
    name: "${friendly_relay_name_2} Sunrise Enabled"
    id: "${device_relay_name_2}_sunrise_switch_toggle"
    icon: "mdi:weather-sunset-up"
    optimistic: false
    restore_state: true
    turn_on_action:
      - globals.set:
          id: ${device_relay_name_2}_sunrise_enabled
          value: 'true'
    turn_off_action:
      - globals.set:
          id: ${device_relay_name_2}_sunrise_enabled
          value: 'false'
    lambda: |-
      return id(${device_relay_name_2}_sunrise_enabled);
  - platform: template
    name: "${friendly_relay_name_2} Sunset Enabled"
    id: "${device_relay_name_2}_sunset_switch_toggle"
    icon: "mdi:weather-sunset-down"
    optimistic: false
    restore_state: true
    turn_on_action:
      - globals.set:
          id: ${device_relay_name_2}_sunset_enabled
          value: 'true'
    turn_off_action:
      - globals.set:
          id: ${device_relay_name_2}_sunset_enabled
          value: 'false'
    lambda: |-
      return id(${device_relay_name_2}_sunset_enabled);